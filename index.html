<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bird Dog - Your Job Hunting Companion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #FFFFFF;
            color: #000000;
            line-height: 1.4;
            letter-spacing: -0.02em;
        }

        /* Hero section - full viewport */
        .hero {
            height: 100vh;
            /* Replace this URL with your hosted image or use base64 */
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1536 1024"><rect fill="%23C4B5A0" width="1536" height="1024"/><g opacity="0.3"><ellipse fill="%23A89885" cx="400" cy="300" rx="200" ry="150"/><ellipse fill="%239B8A75" cx="800" cy="500" rx="250" ry="180"/><ellipse fill="%23B5A590" cx="1200" cy="400" rx="180" ry="140"/></g></svg>');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Dark overlay for readability */
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .hero-logo {
            margin-bottom: 2rem;
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.5));
        }

        .hero h1 {
            font-size: 8rem;
            font-weight: 900;
            color: #FFFFFF;
            text-transform: uppercase;
            letter-spacing: -0.06em;
            line-height: 0.9;
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }

        .hero-tagline {
            font-size: 1.25rem;
            color: #FFFFFF;
            text-transform: uppercase;
            letter-spacing: 0.3em;
            margin-top: 1.5rem;
            opacity: 0.9;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        .scroll-indicator {
            position: absolute;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            animation: bounce 2s infinite;
        }

        .scroll-indicator svg {
            width: 40px;
            height: 40px;
            opacity: 0.8;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        /* Tool section */
        .tool-section {
            background: #FFFFFF;
            padding: 6rem 4rem;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-intro {
            text-align: center;
            margin-bottom: 6rem;
        }

        .section-intro h2 {
            font-size: 4rem;
            font-weight: 900;
            letter-spacing: -0.05em;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .section-intro p {
            font-size: 1.25rem;
            color: #666666;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Input blocks */
        .input-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            margin-bottom: 4rem;
        }

        .input-block {
            margin-bottom: 3rem;
        }

        .input-block h3 {
            font-size: 2rem;
            font-weight: 900;
            letter-spacing: -0.04em;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .badge {
            display: inline-block;
            background: #D4764B;
            color: #FFFFFF;
            font-size: 0.75rem;
            padding: 0.4rem 1rem;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            font-weight: 700;
            margin-left: 1rem;
            vertical-align: middle;
        }

        .badge.optional {
            background: #CCCCCC;
            color: #000000;
        }

        textarea {
            width: 100%;
            background: #F5F5F5;
            border: none;
            border-left: 6px solid #000000;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.8;
            padding: 2rem;
            resize: vertical;
            transition: all 0.2s;
            margin-top: 1rem;
        }

        textarea:focus {
            outline: none;
            border-left-color: #D4764B;
            background: #FFFFFF;
        }

        textarea::placeholder {
            color: #999999;
        }

        /* Submit button */
        .analyze-btn {
            background: #D4764B;
            color: #FFFFFF;
            border: none;
            padding: 2rem 4rem;
            font-size: 1.5rem;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            margin-top: 2rem;
        }

        .analyze-btn:hover:not(:disabled) {
            background: #000000;
        }

        .analyze-btn:disabled {
            background: #CCCCCC;
            cursor: not-allowed;
        }

        /* Loading */
        .loading {
            text-align: center;
            padding: 4rem;
            color: #999999;
        }

        .loading-spinner {
            display: inline-block;
            width: 60px;
            height: 60px;
            border: 6px solid #F5F5F5;
            border-top-color: #D4764B;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 2rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Results */
        .results {
            display: none;
            padding: 6rem 4rem;
            background: #F5F5F5;
        }

        .results.show {
            display: block;
        }

        .results-header {
            margin-bottom: 6rem;
            text-align: center;
        }

        .results-header h2 {
            font-size: 5rem;
            font-weight: 900;
            letter-spacing: -0.06em;
            line-height: 0.9;
            margin-bottom: 2rem;
            text-transform: uppercase;
        }

        .results-header .deck {
            font-size: 1.5rem;
            line-height: 1.4;
            max-width: 800px;
            margin: 0 auto;
            color: #333333;
        }

        /* Fit score */
        .fit-score-display {
            background: #000000;
            color: #FFFFFF;
            padding: 4rem;
            margin: 4rem auto;
            max-width: 1400px;
            display: flex;
            align-items: baseline;
            gap: 2rem;
        }

        .score-number {
            font-size: 12rem;
            font-weight: 900;
            line-height: 1;
            color: #D4764B;
        }

        .score-breakdown {
            font-size: 1rem;
            opacity: 0.6;
            text-transform: uppercase;
            letter-spacing: 0.15em;
        }

        /* Results grid */
        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6rem;
            margin: 6rem auto;
            max-width: 1400px;
        }

        .result-block {
            margin-bottom: 4rem;
        }

        .result-block h3 {
            font-size: 1.5rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 2rem;
            border-bottom: 4px solid #000000;
            padding-bottom: 0.5rem;
        }

        .result-block h4 {
            font-size: 1.125rem;
            font-weight: 700;
            margin-top: 3rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .bullet-list {
            list-style: none;
            padding: 0;
        }

        .bullet-list li {
            padding-left: 2rem;
            position: relative;
            margin-bottom: 1rem;
            font-size: 1rem;
            line-height: 1.6;
        }

        .bullet-list li::before {
            content: 'â€”';
            position: absolute;
            left: 0;
            font-weight: 700;
        }

        /* Comparison */
        .comparison-block {
            background: #FFFFFF;
            padding: 2rem;
            margin: 2rem 0;
            border-left: 6px solid #D4764B;
        }

        .comparison-item {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #E0E0E0;
        }

        .comparison-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .comparison-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            font-weight: 700;
            margin-bottom: 0.75rem;
            opacity: 0.5;
        }

        .comparison-text {
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Recommendation */
        .recommendation {
            background: #D4764B;
            color: #FFFFFF;
            padding: 4rem;
            text-align: center;
            font-size: 3rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin: 6rem auto;
            max-width: 1400px;
        }

        /* Error */
        .error {
            background: #FFE5E5;
            border-left: 6px solid #D4764B;
            color: #000000;
            padding: 2rem;
            margin: 2rem 0;
            font-weight: 500;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .hero h1 {
                font-size: 5rem;
            }

            .input-grid,
            .results-grid {
                grid-template-columns: 1fr;
                gap: 3rem;
            }

            .section-intro h2 {
                font-size: 3rem;
            }

            .input-block h3 {
                font-size: 1.5rem;
            }

            .score-number {
                font-size: 8rem;
            }

            .tool-section,
            .results {
                padding: 4rem 2rem;
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 3rem;
            }

            .hero-tagline {
                font-size: 0.875rem;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <svg class="hero-logo" width="120" height="120" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M 15 40 L 25 35 L 35 35 L 50 38 L 58 35 L 65 36 L 70 42 L 65 45 L 58 44 L 50 48 L 40 48 L 30 46 L 20 44 Z" 
                      fill="#FFFFFF" 
                      opacity="0.95"/>
                <circle cx="63" cy="38" r="3" fill="#FFFFFF" opacity="0.9"/>
                <path d="M 35 48 L 36 65" stroke="#FFFFFF" stroke-width="3" stroke-linecap="round" opacity="0.85"/>
                <path d="M 25 48 L 24 65" stroke="#FFFFFF" stroke-width="3" stroke-linecap="round" opacity="0.85"/>
                <path d="M 45 48 L 47 65" stroke="#FFFFFF" stroke-width="3" stroke-linecap="round" opacity="0.85"/>
            </svg>
            <h1>Bird Dog</h1>
            <p class="hero-tagline">Your Job Hunting Companion</p>
        </div>
        <div class="scroll-indicator">
            <svg fill="#FFFFFF" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M7 10l5 5 5-5z"/>
            </svg>
        </div>
    </section>

    <!-- Tool Section -->
    <section class="tool-section">
        <div class="container">
            <div class="section-intro">
                <h2>Analyze</h2>
                <p>Strategic role fit analysis powered by AI. Understand which opportunities align with your background and how to position yourself effectively.</p>
            </div>

            <div class="input-grid">
                <div>
                    <div class="input-block">
                        <h3>Resume <span class="badge">Required</span></h3>
                        <textarea 
                            id="resume" 
                            rows="12"
                            placeholder="Paste your resume here...

Include: experience, skills, education, and key accomplishments"
                        ></textarea>
                    </div>

                    <div class="input-block">
                        <h3>Your Ideal Role <span class="badge optional">Optional</span></h3>
                        <textarea 
                            id="idealRole" 
                            rows="6"
                            placeholder="Describe your ideal next role..."
                        ></textarea>
                    </div>
                </div>

                <div>
                    <div class="input-block">
                        <h3>Job Description <span class="badge">Required</span></h3>
                        <textarea 
                            id="jobDescription" 
                            rows="12"
                            placeholder="Paste the full job description...

Include: responsibilities, requirements, and company info"
                            required
                        ></textarea>
                    </div>

                    <div class="input-block">
                        <h3>Additional Context <span class="badge optional">Optional</span></h3>
                        <textarea 
                            id="additionalContext" 
                            rows="6"
                            placeholder="Portfolio links, career goals, special circumstances..."
                        ></textarea>
                    </div>
                </div>
            </div>

            <button class="analyze-btn" onclick="analyzeRole()">
                Analyze Strategic Fit
            </button>

            <div id="loading" class="loading" style="display: none;">
                <div class="loading-spinner"></div>
                <p>Analyzing role fit and generating strategic insights...</p>
            </div>

            <div id="error" class="error" style="display: none;"></div>
        </div>
    </section>

    <!-- Results Section -->
    <div id="results" class="results"></div>

    <script>
        const SYSTEM_PROMPT = `You are Bird Dog, an AI Career Strategy & Role Fit Engine.

# Core Identity
You prioritize signal, strategy, and clarity over verbosity, polish, or generic language. You are NOT a resume writer - you are a decision-support system.

# Core Principles
- Evaluate strategic fit, not just textual similarity
- Preserve the user's authentic voice
- Surface tradeoffs and uncertainties
- Avoid generic corporate language
- Produce concise, high-signal outputs

# Reasoning Framework
Follow this structured process:

## Step 1 - Role Decomposition
Extract: core responsibilities, required skills, implied expectations, seniority level, success signals

## Step 2 - Candidate Signal Extraction
Extract: technical skills, domain experience, strategic strengths, unique differentiators, career trajectory signals

## Step 3 - Alignment Analysis
Compare across three dimensions:
1. Skill Alignment (0-4): Degree of overlap between required skills and candidate experience
2. Trajectory Fit (0-3): Whether the role advances stated/implied career direction
3. Differentiation Potential (0-3): Likelihood user can stand out vs typical candidates

## Step 4 - Strategic Interpretation
Identify: narrative gaps, positioning opportunities, potential misalignment risks, alternative role interpretations

## Step 5 - Decision Output
Generate structured, decision-oriented outputs

# Output Format (MUST FOLLOW EXACTLY)

Return a JSON object with this structure:

{
  "roleSummary": "Concise interpretation of what the role actually demands (not what the title suggests)",
  "fitScore": {
    "total": <number 0-10>,
    "skillAlignment": <number 0-4>,
    "trajectoryFit": <number 0-3>,
    "differentiationPotential": <number 0-3>,
    "explanation": "2-4 sentences explaining the score"
  },
  "coreAlignment": {
    "strengths": [
      "Concise, high-signal bullet point",
      "Another strength"
    ],
    "gaps": [
      "Specific, non-generic gap",
      "Another gap"
    ]
  },
  "positioningOptions": {
    "conservative": {
      "narrative": "What story to tell",
      "targetSignals": ["Signal 1", "Signal 2"]
    },
    "stretch": {
      "narrative": "What story to tell",
      "targetSignals": ["Signal 1", "Signal 2"]
    }
  },
  "resumeUpgrades": [
    {
      "before": "Original bullet",
      "after": "Improved bullet (preserve concision, avoid buzzwords, maintain voice)"
    }
  ],
  "risks": [
    "Over-positioning risk",
    "Role misalignment risk",
    "Signal dilution risk"
  ],
  "recommendation": "<one of: 'Apply aggressively', 'Apply with repositioning', 'Strategic stretch role', 'Low ROI role'>"
}

# Language Constraints
- Prefer short sentences
- Avoid corporate jargon
- Avoid unnecessary adjectives
- Maximize information density
- Maintain user's tone
- Do not overwrite with generic phrasing
- Flag when rewriting risks signal loss

# Anti-Patterns to Avoid
- Verbose explanations
- Buzzword stacking
- Generic resume language
- Over-optimistic scoring
- Hallucinated requirements

When uncertainty is high, STATE IT EXPLICITLY.`;

        async function analyzeRole() {
            const resume = document.getElementById('resume').value.trim();
            const jobDescription = document.getElementById('jobDescription').value.trim();
            const idealRole = document.getElementById('idealRole').value.trim();
            const additionalContext = document.getElementById('additionalContext').value.trim();

            if (!resume || !jobDescription) {
                showError('Please provide both your resume and the job description.');
                return;
            }

            document.getElementById('results').classList.remove('show');
            document.getElementById('error').style.display = 'none';
            document.getElementById('loading').style.display = 'block';
            
            const button = document.querySelector('.analyze-btn');
            button.disabled = true;
            button.textContent = 'Analyzing...';

            try {
                let userPrompt = `# User Resume\n${resume}\n\n# Job Description\n${jobDescription}`;
                
                if (idealRole) {
                    userPrompt += `\n\n# User's Ideal Role\n${idealRole}`;
                }
                
                if (additionalContext) {
                    userPrompt += `\n\n# Additional Context\n${additionalContext}`;
                }

                userPrompt += '\n\nAnalyze this role against my background and provide strategic guidance in the JSON format specified.';

                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 4000,
                        system: SYSTEM_PROMPT,
                        messages: [
                            { role: 'user', content: userPrompt }
                        ]
                    })
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }

                const data = await response.json();
                const content = data.content[0].text;
                
                let analysis;
                try {
                    const jsonMatch = content.match(/\{[\s\S]*\}/);
                    if (jsonMatch) {
                        analysis = JSON.parse(jsonMatch[0]);
                    } else {
                        analysis = JSON.parse(content);
                    }
                } catch (parseError) {
                    throw new Error('Failed to parse analysis results. Please try again.');
                }

                displayResults(analysis);
            } catch (error) {
                console.error('Analysis error:', error);
                showError('Failed to analyze role. Please try again. Error: ' + error.message);
            } finally {
                document.getElementById('loading').style.display = 'none';
                button.disabled = false;
                button.textContent = 'Analyze Strategic Fit';
            }
        }

        function displayResults(analysis) {
            const resultsDiv = document.getElementById('results');
            
            let html = `
                <div class="container">
                    <div class="results-header">
                        <h2>Strategic<br>Analysis</h2>
                        <p class="deck">${analysis.roleSummary}</p>
                    </div>

                    <div class="fit-score-display">
                        <div class="score-number">${analysis.fitScore.total}</div>
                        <div>
                            <div class="score-breakdown">
                                Skill Alignment ${analysis.fitScore.skillAlignment}/4<br>
                                Trajectory Fit ${analysis.fitScore.trajectoryFit}/3<br>
                                Differentiation ${analysis.fitScore.differentiationPotential}/3
                            </div>
                            <p style="margin-top: 2rem; opacity: 0.8;">${analysis.fitScore.explanation}</p>
                        </div>
                    </div>

                    <div class="results-grid">
                        <div>
                            <div class="result-block">
                                <h3>Strengths</h3>
                                <ul class="bullet-list">
                                    ${analysis.coreAlignment.strengths.map(s => `<li>${s}</li>`).join('')}
                                </ul>
                            </div>

                            <div class="result-block">
                                <h3>Gaps</h3>
                                <ul class="bullet-list">
                                    ${analysis.coreAlignment.gaps.map(g => `<li>${g}</li>`).join('')}
                                </ul>
                            </div>
                        </div>

                        <div>
                            <div class="result-block">
                                <h3>Positioning</h3>
                                <h4>Conservative</h4>
                                <p><strong>Narrative:</strong> ${analysis.positioningOptions.conservative.narrative}</p>
                                <ul class="bullet-list">
                                    ${analysis.positioningOptions.conservative.targetSignals.map(s => `<li>${s}</li>`).join('')}
                                </ul>

                                <h4>Stretch</h4>
                                <p><strong>Narrative:</strong> ${analysis.positioningOptions.stretch.narrative}</p>
                                <ul class="bullet-list">
                                    ${analysis.positioningOptions.stretch.targetSignals.map(s => `<li>${s}</li>`).join('')}
                                </ul>
                            </div>

                            <div class="result-block">
                                <h3>Risks</h3>
                                <ul class="bullet-list">
                                    ${analysis.risks.map(r => `<li>${r}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="result-block">
                        <h3>Resume Upgrades</h3>
                        <div class="comparison-block">
                            ${analysis.resumeUpgrades.map(upgrade => `
                                <div class="comparison-item">
                                    <div class="comparison-label">Before</div>
                                    <div class="comparison-text">${upgrade.before}</div>
                                    <div class="comparison-label" style="margin-top: 1.5rem;">After</div>
                                    <div class="comparison-text">${upgrade.after}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div class="recommendation">
                        ${analysis.recommendation}
                    </div>
                </div>
            `;

            resultsDiv.innerHTML = html;
            resultsDiv.classList.add('show');
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function showError(message) {
            const errorDiv = document.getElementById('error');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            errorDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>